# Silent Execution: A Malware Behavior Simulator

**Silent Execution** is an educational project designed to simulate the behavior of modern malware in a safe, controlled, and observable environment. It demonstrates how a malicious process can hide behind a legitimate frontend application—in this case, a simple calculator—while performing various harmful actions in the background.

The primary goal is to provide a hands-on tool for understanding common malware techniques without any real-world risk.

![Project Architecture Diagram](diagram.png)

## Project Overview

The project consists of two main components that run concurrently:

- **Legitimate Application**: A fully functional Tkinter-based calculator GUI. This serves as the "cover" for the malicious process, providing a plausible reason for the application to be running on a user's system.
- **Malware Simulation**: A background thread that simulates a sequence of typical malware behaviors. All activities are strictly confined to the `sandbox/` directory to ensure safety.

### Simulated Malware Behaviors

The simulation demonstrates the following chain of actions, mimicking a real-world attack:

1.  **Persistence**: Simulates gaining a foothold on the system by copying a file to a "startup" directory (`sandbox/generated/startup_simulation/`). This ensures the malware would "run" again after a system reboot.
2.  **Duplication (Replication)**: Simulates self-replication by copying files to common user directories (`sandbox/generated/desktop_sim/` and `sandbox/generated/documents_sim/`) to increase its footprint and chance of execution.
3.  **File Analysis (Scanning)**: Scans the `sandbox/text_files_to_encrypt/` directory to identify valuable target files for the next stage. Real malware would look for documents, images, and other personal data.
4.  **Ransomware**: Encrypts the contents of the target text files using `cryptography.fernet` (AES-128 in CBC mode with PKCS7 padding). It saves the ciphertext to new `.encrypted_sim` files and deletes the originals. The encryption key is saved to `sandbox/generated/secret.key` for educational purposes.
5.  **Propagation**: Simulates worm-like behavior by creating copies of itself in a `sandbox/generated/propagation_sim/` directory, mimicking the spread to other network locations.

## How to Run the Simulation

For detailed setup and execution instructions, please refer to the `instructions.txt` file included in this repository.

## How to Observe the Results

- **Encrypted Files**: Check the `sandbox/text_files_to_encrypt/` directory to see the original `.txt` files (containing fake emails and passwords) replaced by `.encrypted_sim` files.
- **Generated Artifacts**: All files created by the simulation (for persistence, duplication, etc.) are stored in the `sandbox/generated/` directory.
- **Logs**:
    - `output/logs.txt`: A human-readable, chronological log of the simulation's high-level actions.
    - `output/events.jsonl`: A machine-readable, structured log of every event with precise timestamps and associated data. This is ideal for detailed analysis.

## Project Structure

```
/
├── app/
│   ├── __init__.py
│   ├── cli.py              # (Legacy) Original command-line interface
│   ├── encryption.py       # Handles file encryption and decryption
│   ├── gui.py              # Tkinter-based calculator GUI
│   ├── logger.py           # Event logging to JSONL
│   ├── safety.py           # Ensures simulation stays within the sandbox
│   └── simulation.py       # Core malware simulation logic
├── output/
│   ├── events.jsonl        # Structured event logs
│   └── logs.txt            # Human-readable chronological logs
├── sandbox/
│   ├── generated/          # All files generated by the simulation
│   └── text_files_to_encrypt/ # Files to be encrypted by the ransomware sim
├── .venv/                  # Python virtual environment
├── main.py                 # Main entry point
├── README.md               # This file
└── instructions.txt        # Detailed setup and run instructions
```

## Logging System

The simulation produces two types of logs in the `output/` directory:

*   **`logs.txt`**: A simple, human-readable text file that provides a high-level overview of the simulation's progress.
*   **`events.jsonl`**: A structured JSON Lines file where each line is a detailed, machine-readable record of a specific event. This is ideal for automated analysis.